(function(e){e.fn.offcanvas=function(t){var n=e.extend({hasSidebarLeft:!0,hasSidebarRight:!1,animated:!0,oldPhones:!0,enableTouch:!0,enableKeys:!0},t),r=e.extend({sidebarLeft:".sidebarLeft",sidebarRight:".sidebarRight",mainPage:".page"},t);return this.each(function(){function s(n,s){switch(n){case"right":e(r.sidebarLeft).addClass("slidRight");e(r.mainPage).addClass("slidRight");e(".topBar .slideRight").addClass("pressed");t=1;break;case"left":e(r.sidebarRight).addClass("slidLeft");e(r.mainPage).addClass("slidLeft");e(".topBar .slideLeft").addClass("pressed");i=1;break;case"shutLeft":e(r.sidebarLeft).removeClass("slidRight");e(r.mainPage).removeClass("slidRight");e(".topBar .slideRight").removeClass("pressed");t=0;break;case"shutRight":e(r.sidebarRight).removeClass("slidLeft");e(r.mainPage).removeClass("slidLeft");e(".topBar .slideLeft").removeClass("pressed");i=0}}e(this).addClass("offcanvas");e.each(r,function(t,r){n.animated&&e(r).addClass("animatedSlide")});n.oldPhones&&e(".scrollableArea").addClass("overthrow");var t=0,i=0;e(".slideRight").click(function(){t?s("shutLeft"):s("right");return!1});e(".slideLeft").click(function(){i?s("shutRight"):s("left");return!1});e(".shutLeft").click(function(){s("shutLeft");return!1});e(".shutRight").click(function(){s("shutRight");return!1});n.enableKeys&&e(document).keydown(function(e){if(e.keyCode===39){!t&&!i?s("right"):s("shutRight");return!1}if(e.keyCode===37){!t&&!i?s("left"):s("shutLeft");return!1}});n.enableTouch&&e(this).hammer({drag:!1,prevent_default:!1,css_hacks:!1}).on("swipe",function(e){if(e.direction==="right"){!t&&!i?s("right"):s("shutRight");return!1}if(e.direction==="left"){!t&&!i?s("left"):s("shutLeft");return!1}})})}})(jQuery);