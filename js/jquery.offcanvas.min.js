(function(e){e.fn.offcanvas=function(t){var n=e.extend({hasSidebarLeft:!0,hasSidebarRight:!1,animated:!0,oldPhones:!0,enableTouch:!0,enableKeys:!0},t),r=e.extend({sidebarLeft:".sidebarLeft",sidebarRight:".sidebarRight",mainPage:".page"},t);return this.each(function(){function o(n,s){switch(n){case"right":e(r.sidebarRight).removeClass("show");e(r.sidebarLeft).addClass("slidRight show");e(r.mainPage).addClass("slidRight");e(".topBar .slideRight").addClass("pressed");t=1;break;case"left":e(r.sidebarLeft).removeClass("show");e(r.sidebarRight).addClass("slidLeft show");e(r.mainPage).addClass("slidLeft");e(".topBar .slideLeft").addClass("pressed");i=1;break;case"shutLeft":e(".topBar .slideRight").removeClass("pressed");e(r.mainPage).removeClass("slidRight");e(r.sidebarLeft).removeClass("slidRight");var o=setTimeout(function(){e(r.sidebarLeft).removeClass("show")},400);clearTimeout(o);t=0;break;case"shutRight":e(".topBar .slideLeft").removeClass("pressed");e(r.mainPage).removeClass("slidLeft");e(r.sidebarRight).removeClass("slidLeft");var o=setTimeout(function(){e(r.sidebarRight).removeClass("show")},400);clearTimeout(o);i=0}}e(this).addClass("offcanvas");e.each(r,function(t,r){n.animated&&e(r).addClass("animatedSlide")});n.oldPhones&&e(".scrollableArea").addClass("overthrow");var t=0,i=0,s=setTimeout(function(t){e(t).removeClass("show")},400);n.hasSidebarLeft&&e(".slideRight").click(function(){t?o("shutLeft"):o("right");return!1});n.hasSidebarRight&&e(".slideLeft").click(function(){i?o("shutRight"):o("left");return!1});n.hasSidebarLeft&&e(".shutLeft").click(function(){o("shutLeft");return!1});n.hasSidebarRight&&e(".shutRight").click(function(){o("shutRight");return!1});n.enableKeys&&e(document).keydown(function(e){if(e.keyCode===39){!t&&!i&&n.hasSidebarLeft?o("right"):o("shutRight");return!1}if(e.keyCode===37){!t&&!i&&n.hasSidebarRight?o("left"):o("shutLeft");return!1}});n.enableTouch&&e(this).hammer({drag:!1,prevent_default:!1,css_hacks:!1}).on("swipe",function(e){if(e.direction==="right"){!t&&!i&&n.hasSidebarLeft?o("right"):o("shutRight");return!1}if(e.direction==="left"){!t&&!i&&n.hasSidebarRight?o("left"):o("shutLeft");return!1}})})}})(jQuery);